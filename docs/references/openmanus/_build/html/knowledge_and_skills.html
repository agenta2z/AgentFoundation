<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Knowledge and Skills System &#8212; OpenManus 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="LLM Integration" href="llm_integration.html" />
    <link rel="prev" title="Tool System" href="tool_system.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="knowledge-and-skills-system">
<h1>Knowledge and Skills System<a class="headerlink" href="#knowledge-and-skills-system" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#executive-summary" id="id1">Executive Summary</a></p></li>
<li><p><a class="reference internal" href="#knowledge-management" id="id2">Knowledge Management</a></p>
<ul>
<li><p><a class="reference internal" href="#knowledge-creation" id="id3">Knowledge Creation</a></p></li>
<li><p><a class="reference internal" href="#knowledge-processing" id="id4">Knowledge Processing</a></p></li>
<li><p><a class="reference internal" href="#knowledge-storage" id="id5">Knowledge Storage</a></p></li>
<li><p><a class="reference internal" href="#knowledge-retrieval" id="id6">Knowledge Retrieval</a></p></li>
<li><p><a class="reference internal" href="#how-agents-access-knowledge" id="id7">How Agents Access Knowledge</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#skill-system" id="id8">Skill System</a></p>
<ul>
<li><p><a class="reference internal" href="#skill-definition" id="id9">Skill Definition</a></p></li>
<li><p><a class="reference internal" href="#skill-discovery" id="id10">Skill Discovery</a></p></li>
<li><p><a class="reference internal" href="#skill-learning-and-acquisition" id="id11">Skill Learning and Acquisition</a></p></li>
<li><p><a class="reference internal" href="#skill-execution-flow" id="id12">Skill Execution Flow</a></p></li>
<li><p><a class="reference internal" href="#skill-composition" id="id13">Skill Composition</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#memory-system-deep-dive" id="id14">Memory System Deep Dive</a></p>
<ul>
<li><p><a class="reference internal" href="#architecture" id="id15">Architecture</a></p></li>
<li><p><a class="reference internal" href="#message-structure" id="id16">Message Structure</a></p></li>
<li><p><a class="reference internal" href="#memory-lifecycle" id="id17">Memory Lifecycle</a></p></li>
<li><p><a class="reference internal" href="#cross-agent-memory" id="id18">Cross-Agent Memory</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#prompt-templates-as-baked-in-knowledge" id="id19">Prompt Templates as Baked-In Knowledge</a></p>
<ul>
<li><p><a class="reference internal" href="#manus-prompt" id="id20">Manus Prompt</a></p></li>
<li><p><a class="reference internal" href="#browser-prompt-detailed" id="id21">Browser Prompt (Detailed)</a></p></li>
<li><p><a class="reference internal" href="#planning-prompt" id="id22">Planning Prompt</a></p></li>
<li><p><a class="reference internal" href="#swe-prompt" id="id23">SWE Prompt</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#architectural-analysis-and-limitations" id="id24">Architectural Analysis and Limitations</a></p>
<ul>
<li><p><a class="reference internal" href="#what-openmanus-does-well" id="id25">What OpenManus Does Well</a></p></li>
<li><p><a class="reference internal" href="#what-openmanus-lacks" id="id26">What OpenManus Lacks</a></p></li>
<li><p><a class="reference internal" href="#recommendations-for-enhancement" id="id27">Recommendations for Enhancement</a></p></li>
</ul>
</li>
</ul>
</nav>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This document provides a thorough, critical analysis of how OpenManus
handles knowledge and skills. A key finding is that OpenManus
<strong>does not have a dedicated knowledge management system or formalized
skill library</strong>. This document explains what exists, what is absent,
and the architectural implications.</p>
</div>
<section id="executive-summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Executive Summary</a><a class="headerlink" href="#executive-summary" title="Link to this heading">¶</a></h2>
<p>OpenManus follows an <strong>LLM-centric, stateless architecture</strong> where:</p>
<ul class="simple">
<li><p><strong>“Knowledge”</strong> exists only in prompt templates and conversation context</p></li>
<li><p><strong>“Skills”</strong> are hardcoded tool definitions with no learning mechanism</p></li>
<li><p><strong>All state is ephemeral</strong> – lost when the process exits</p></li>
<li><p>There is <strong>no persistent memory</strong>, no vector database, no RAG pipeline,
no skill library that grows over time</p></li>
</ul>
<p>This design keeps the system simple and predictable but limits its ability
to improve over time or leverage past interactions.</p>
</section>
<section id="knowledge-management">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Knowledge Management</a><a class="headerlink" href="#knowledge-management" title="Link to this heading">¶</a></h2>
<section id="knowledge-creation">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Knowledge Creation</a><a class="headerlink" href="#knowledge-creation" title="Link to this heading">¶</a></h3>
<p>OpenManus does not produce, index, or store knowledge artifacts in the
traditional sense. The closest analogs to “knowledge creation” are:</p>
<p><strong>Conversation Memory</strong></p>
<p>During execution, messages accumulate in the agent’s <code class="docutils literal notranslate"><span class="pre">Memory</span></code> object.
Each message captures a unit of interaction (user input, LLM reasoning,
tool results).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># app/schema.py, lines 159-188</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Memory</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">max_messages</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">messages</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_messages</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">messages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">messages</span><span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">max_messages</span><span class="p">:]</span>
</pre></div>
</div>
<p>This is purely ephemeral – the memory is a Python list that exists only
for the duration of one <code class="docutils literal notranslate"><span class="pre">agent.run()</span></code> call.</p>
<p><strong>Plan Data</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">PlanningTool</span></code> stores plans as in-memory dictionaries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># app/tool/planning.py, line 69</span>
<span class="n">plans</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># In-memory only</span>
</pre></div>
</div>
<p>Plans include titles, numbered steps, step statuses, and step notes.
This structured data could be considered “generated knowledge” about
task decomposition, but it is lost when the process exits.</p>
<p><strong>File Edit History</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">StrReplaceEditor</span></code> maintains undo history:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># app/tool/str_replace_editor.py, line 101</span>
<span class="n">_file_history</span><span class="p">:</span> <span class="n">DefaultDict</span><span class="p">[</span><span class="n">PathLike</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</pre></div>
</div>
<p>Again, this is in-memory only and serves a functional purpose (undo)
rather than knowledge management.</p>
</section>
<section id="knowledge-processing">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Knowledge Processing</a><a class="headerlink" href="#knowledge-processing" title="Link to this heading">¶</a></h3>
<p>There is <strong>no structured knowledge processing pipeline</strong>. The LLM itself
serves as the knowledge processor. The closest mechanisms are:</p>
<p><strong>Web Content Extraction</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">BrowserUseTool.extract_content</span></code> action uses an LLM call to
extract structured content from web pages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Web Page HTML
     │
     ▼
markdownify (HTML → Markdown)
     │
     ▼
LLM call with extraction goal
     │
     ▼
Structured JSON output (consumed immediately, not stored)
</pre></div>
</div>
<p><strong>Web Search Results</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">WebSearch</span></code> tool returns structured <code class="docutils literal notranslate"><span class="pre">SearchResult</span></code> objects with
title, URL, and optional content. The optional <code class="docutils literal notranslate"><span class="pre">fetch_content</span></code> flag
parses raw HTML with BeautifulSoup.</p>
<p><strong>Web Crawling</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">Crawl4aiTool</span></code> extracts clean markdown from web pages using the
Crawl4AI library. Results are returned as tool output.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In all three cases, the extracted information enters the conversation
memory as a tool result message. It is <strong>never indexed, stored, or
made searchable</strong> beyond the current conversation context window.</p>
</div>
</section>
<section id="knowledge-storage">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Knowledge Storage</a><a class="headerlink" href="#knowledge-storage" title="Link to this heading">¶</a></h3>
<p><strong>There is no persistent knowledge storage.</strong> Specifically:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Storage Type</p></th>
<th class="head"><p>Status</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Relational database</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-odd"><td><p>NoSQL database</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-even"><td><p>Vector database</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-odd"><td><p>File-based knowledge store</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-even"><td><p>Embedding storage</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-odd"><td><p>RAG pipeline</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-even"><td><p>Knowledge graph</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-odd"><td><p>Session persistence</p></td>
<td><p>Not present</p></td>
</tr>
<tr class="row-even"><td><p>Cross-session memory</p></td>
<td><p>Not present</p></td>
</tr>
</tbody>
</table>
<p>All state exists only as in-memory Python objects:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Memory.messages</span></code> – conversation history</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PlanningTool.plans</span></code> – plan data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StrReplaceEditor._file_history</span></code> – file edit undo</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLM._instances</span></code> – singleton LLM instances</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MCPClients.sessions</span></code> – MCP server connections</p></li>
</ul>
</section>
<section id="knowledge-retrieval">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Knowledge Retrieval</a><a class="headerlink" href="#knowledge-retrieval" title="Link to this heading">¶</a></h3>
<p>There is <strong>no internal knowledge retrieval system</strong>. The system provides
two external retrieval mechanisms:</p>
<ol class="arabic simple">
<li><p><strong>Web Search</strong> (<code class="docutils literal notranslate"><span class="pre">WebSearch</span></code> tool): Real-time internet search with
engine fallback (Google → DuckDuckGo → Baidu → Bing)</p></li>
<li><p><strong>Browser Content Extraction</strong>: Scraping and parsing specific web
pages via <code class="docutils literal notranslate"><span class="pre">BrowserUseTool</span></code> and <code class="docutils literal notranslate"><span class="pre">Crawl4aiTool</span></code></p></li>
</ol>
<p>The only “internal retrieval” is the LLM seeing the full conversation
context (up to <code class="docutils literal notranslate"><span class="pre">max_messages=100</span></code> messages). The LLM uses this context
implicitly to inform its responses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The word “embedding” does not appear in any source file. There is
no vector similarity search, no semantic retrieval, and no indexing
of past interactions.</p>
</div>
</section>
<section id="how-agents-access-knowledge">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">How Agents Access Knowledge</a><a class="headerlink" href="#how-agents-access-knowledge" title="Link to this heading">¶</a></h3>
<p>Agents access information through exactly <strong>two channels</strong>:</p>
<p><strong>1. System Prompts (Static, Baked-In Knowledge)</strong></p>
<p>Each agent type has a static system prompt that defines its identity,
capabilities, and behavioral instructions. These prompts are the
“hardcoded knowledge” of each agent.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Agent</p></th>
<th class="head"><p>File</p></th>
<th class="head"><p>Prompt Size</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Manus</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">app/prompt/manus.py</span></code></p></td>
<td><p>~4 lines (minimal identity + workspace)</p></td>
</tr>
<tr class="row-odd"><td><p>Browser</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">app/prompt/browser.py</span></code></p></td>
<td><p>~94 lines (detailed JSON format, action rules)</p></td>
</tr>
<tr class="row-even"><td><p>Planning</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">app/prompt/planning.py</span></code></p></td>
<td><p>~27 lines (plan creation instructions)</p></td>
</tr>
<tr class="row-odd"><td><p>SWE</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">app/prompt/swe.py</span></code></p></td>
<td><p>~22 lines (editor interface description)</p></td>
</tr>
<tr class="row-even"><td><p>MCP</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">app/prompt/mcp.py</span></code></p></td>
<td><p>~43 lines (multi-prompt set)</p></td>
</tr>
<tr class="row-odd"><td><p>ToolCall</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">app/prompt/toolcall.py</span></code></p></td>
<td><p>~1 line (minimal base prompt)</p></td>
</tr>
<tr class="row-even"><td><p>Visualization</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">app/prompt/visualization.py</span></code></p></td>
<td><p>~5 lines (workspace + report requirement)</p></td>
</tr>
</tbody>
</table>
<p><strong>2. Conversation Memory (Dynamic, Ephemeral Context)</strong></p>
<p>The accumulated <code class="docutils literal notranslate"><span class="pre">Message</span></code> objects in <code class="docutils literal notranslate"><span class="pre">Memory.messages</span></code> are passed to
the LLM on every <code class="docutils literal notranslate"><span class="pre">think()</span></code> call. The LLM sees the full history within
token limits and uses it as working context.</p>
</section>
</section>
<section id="skill-system">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Skill System</a><a class="headerlink" href="#skill-system" title="Link to this heading">¶</a></h2>
<section id="skill-definition">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Skill Definition</a><a class="headerlink" href="#skill-definition" title="Link to this heading">¶</a></h3>
<p>In OpenManus, <strong>“skills” are tools</strong> – instances of <code class="docutils literal notranslate"><span class="pre">BaseTool</span></code>
subclasses. Each tool is defined by:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">BaseTool</span><span class="p">(</span><span class="n">ABC</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>               <span class="c1"># Unique identifier</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>        <span class="c1"># Natural language description for LLM</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>   <span class="c1"># JSON Schema for input parameters</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the tool.&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Tools are converted to OpenAI function-calling format:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;function&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python_execute&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Executes Python code...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Python code to execute&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="skill-discovery">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Skill Discovery</a><a class="headerlink" href="#skill-discovery" title="Link to this heading">¶</a></h3>
<p>Skills are <strong>statically configured</strong> per agent type. Each agent class
declares its tools at class definition time:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Agent</p></th>
<th class="head"><p>Tools</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Manus</p></td>
<td><p>PythonExecute, BrowserUseTool, StrReplaceEditor, AskHuman,
Terminate + MCP tools</p></td>
</tr>
<tr class="row-odd"><td><p>BrowserAgent</p></td>
<td><p>BrowserUseTool, Terminate</p></td>
</tr>
<tr class="row-even"><td><p>SWEAgent</p></td>
<td><p>Bash, StrReplaceEditor, Terminate</p></td>
</tr>
<tr class="row-odd"><td><p>DataAnalysis</p></td>
<td><p>NormalPythonExecute, VisualizationPrepare, DataVisualization,
Terminate</p></td>
</tr>
<tr class="row-even"><td><p>MCPAgent</p></td>
<td><p>Dynamic from MCP server</p></td>
</tr>
<tr class="row-odd"><td><p>SandboxManus</p></td>
<td><p>AskHuman, Terminate + SandboxBrowser, SandboxFiles,
SandboxShell, SandboxVision + MCP tools</p></td>
</tr>
</tbody>
</table>
<p>The <strong>only dynamic discovery mechanism</strong> is MCP (Model Context Protocol):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># app/tool/mcp.py</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_and_list_tools</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_id</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">list_tools</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">tools</span><span class="p">:</span>
        <span class="n">server_tool</span> <span class="o">=</span> <span class="n">MCPClientTool</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;mcp_</span><span class="si">{</span><span class="n">server_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">tool</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">tool</span><span class="o">.</span><span class="n">inputSchema</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tool_map</span><span class="p">[</span><span class="n">tool_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">server_tool</span>
</pre></div>
</div>
</section>
<section id="skill-learning-and-acquisition">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Skill Learning and Acquisition</a><a class="headerlink" href="#skill-learning-and-acquisition" title="Link to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>OpenManus cannot learn, create, or acquire new skills at runtime.</strong></p>
</div>
<p>There is:</p>
<ul class="simple">
<li><p>No skill generation from demonstrations</p></li>
<li><p>No few-shot learning pipeline for skills</p></li>
<li><p>No skill library that grows over time</p></li>
<li><p>No mechanism to save successful action sequences as reusable skills</p></li>
<li><p>No reinforcement learning for skill improvement within the framework</p></li>
</ul>
<p>The only quasi-dynamic capability is MCP server tools, which are
discovered at connection time but defined externally.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The README mentions a separate project, <a class="reference external" href="https://github.com/OpenManus/OpenManus-RL">OpenManus-RL</a>, for reinforcement
learning-based tuning of LLM agents. This is a separate project,
not integrated into the OpenManus codebase.</p>
</div>
</section>
<section id="skill-execution-flow">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Skill Execution Flow</a><a class="headerlink" href="#skill-execution-flow" title="Link to this heading">¶</a></h3>
<p>The complete skill (tool) execution flow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. think() — LLM Call
   │
   │  Messages + tool schemas → LLM
   │  LLM returns tool_calls (name + JSON args)
   │
   ▼
2. act() — Tool Dispatch
   │
   │  For each tool_call:
   │    Parse JSON arguments
   │    Look up tool in ToolCollection.tool_map
   │    Call tool.execute(**args)
   │
   ▼
3. Result Handling
   │
   │  ToolResult(output, error, base64_image)
   │  Truncate to max_observe characters
   │  Add as Message.tool_message() to memory
   │
   ▼
4. Special Tool Check
   │
   │  If tool name in special_tool_names (e.g., &quot;terminate&quot;):
   │    Set agent.state = AgentState.FINISHED
</pre></div>
</div>
</section>
<section id="skill-composition">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Skill Composition</a><a class="headerlink" href="#skill-composition" title="Link to this heading">¶</a></h3>
<p>There is <strong>no formal skill composition framework</strong>. However, several
implicit composition patterns exist:</p>
<ol class="arabic simple">
<li><p><strong>Sequential Composition via LLM</strong>: The LLM can call multiple tools
in a single <code class="docutils literal notranslate"><span class="pre">think()</span></code> step. The <code class="docutils literal notranslate"><span class="pre">act()</span></code> method executes them
sequentially.</p></li>
<li><p><strong>BrowserUseTool embeds WebSearch</strong>: The <code class="docutils literal notranslate"><span class="pre">web_search</span></code> action
internally calls <code class="docutils literal notranslate"><span class="pre">WebSearch.execute()</span></code> then navigates the browser
to the first result.</p></li>
<li><p><strong>VisualizationPrepare → DataVisualization</strong>: A two-tool pipeline
where the first prepares metadata and the second generates charts.</p></li>
<li><p><strong>PlanningFlow orchestrates multi-agent tool use</strong>: Different agents
with different tools are coordinated through the planning system.</p></li>
</ol>
</section>
</section>
<section id="memory-system-deep-dive">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Memory System Deep Dive</a><a class="headerlink" href="#memory-system-deep-dive" title="Link to this heading">¶</a></h2>
<section id="architecture">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Architecture</a><a class="headerlink" href="#architecture" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌──────────────────────────────────────────────────────────┐
│                    BaseAgent                             │
│                                                          │
│  memory: Memory                                          │
│    └── messages: List[Message]  (max 100)                │
│                                                          │
│  update_memory(role, content)                            │
│    └── memory.add_message(Message(...))                   │
│                                                          │
│  is_stuck() → bool                                       │
│    └── Compares last N assistant messages for duplicates  │
└──────────────────────────────────────────────────────────┘
</pre></div>
</div>
</section>
<section id="message-structure">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Message Structure</a><a class="headerlink" href="#message-structure" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Message</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">role</span><span class="p">:</span> <span class="n">Role</span>          <span class="c1"># &quot;system&quot;, &quot;user&quot;, &quot;assistant&quot;, &quot;tool&quot;</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">tool_calls</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ToolCall</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">tool_call_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">base64_image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">user_message</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Message&quot;</span><span class="p">:</span> <span class="o">...</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">assistant_message</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Message&quot;</span><span class="p">:</span> <span class="o">...</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tool_message</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tool_call_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">base64_image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Message&quot;</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="memory-lifecycle">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Memory Lifecycle</a><a class="headerlink" href="#memory-lifecycle" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><strong>Initialization</strong>: Empty <code class="docutils literal notranslate"><span class="pre">Memory</span></code> with <code class="docutils literal notranslate"><span class="pre">max_messages=100</span></code></p></li>
<li><p><strong>User Prompt</strong>: First message added as <code class="docutils literal notranslate"><span class="pre">user</span></code> role</p></li>
<li><p><strong>Think Loop</strong>: Each <code class="docutils literal notranslate"><span class="pre">think()</span></code> adds:
- <code class="docutils literal notranslate"><span class="pre">next_step_prompt</span></code> as <code class="docutils literal notranslate"><span class="pre">user</span></code> message
- LLM response as <code class="docutils literal notranslate"><span class="pre">assistant</span></code> message</p></li>
<li><p><strong>Act Loop</strong>: Each tool result added as <code class="docutils literal notranslate"><span class="pre">tool</span></code> message</p></li>
<li><p><strong>Overflow</strong>: When messages exceed <code class="docutils literal notranslate"><span class="pre">max_messages</span></code>, oldest are
dropped (sliding window)</p></li>
<li><p><strong>Termination</strong>: Memory is abandoned when <code class="docutils literal notranslate"><span class="pre">run()</span></code> completes</p></li>
</ol>
</section>
<section id="cross-agent-memory">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Cross-Agent Memory</a><a class="headerlink" href="#cross-agent-memory" title="Link to this heading">¶</a></h3>
<p>In the <code class="docutils literal notranslate"><span class="pre">PlanningFlow</span></code>, agents do <strong>not</strong> share memory directly.
Instead, step results are communicated through:</p>
<ul class="simple">
<li><p>Plan step notes (written to <code class="docutils literal notranslate"><span class="pre">PlanningTool</span></code>)</p></li>
<li><p>Step prompts that include context from previous steps</p></li>
</ul>
<p>Each agent starts with a fresh <code class="docutils literal notranslate"><span class="pre">Memory</span></code> for each step execution.</p>
</section>
</section>
<section id="prompt-templates-as-baked-in-knowledge">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Prompt Templates as Baked-In Knowledge</a><a class="headerlink" href="#prompt-templates-as-baked-in-knowledge" title="Link to this heading">¶</a></h2>
<p>All agent prompts are static strings defined in <code class="docutils literal notranslate"><span class="pre">app/prompt/</span></code>:</p>
<section id="manus-prompt">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Manus Prompt</a><a class="headerlink" href="#manus-prompt" title="Link to this heading">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>SYSTEM_PROMPT:
You are OpenManus, an all-capable AI assistant, aimed at
solving any task presented by the user. You have various
tools at your disposal that you can call upon to
efficiently complete complex requests.

NEXT_STEP_PROMPT:
Based on user needs, proactively select the most
appropriate tool or combination of tools...
Current working directory: {directory}
</pre></div>
</div>
</section>
<section id="browser-prompt-detailed">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Browser Prompt (Detailed)</a><a class="headerlink" href="#browser-prompt-detailed" title="Link to this heading">¶</a></h3>
<p>The browser prompt is the most detailed (~94 lines), specifying:</p>
<ul class="simple">
<li><p>JSON response format with required fields</p></li>
<li><p>Action rules (one action per step, use indexes not coordinates)</p></li>
<li><p>Memory tracking requirements</p></li>
<li><p>Visual context handling (screenshots)</p></li>
<li><p>Error recovery patterns</p></li>
</ul>
</section>
<section id="planning-prompt">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Planning Prompt</a><a class="headerlink" href="#planning-prompt" title="Link to this heading">¶</a></h3>
<p>Instructs the LLM to create structured, actionable plans with
dependency tracking and verification steps.</p>
</section>
<section id="swe-prompt">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">SWE Prompt</a><a class="headerlink" href="#swe-prompt" title="Link to this heading">¶</a></h3>
<p>Describes the file editor interface, response format requirements,
and indentation handling for code editing tasks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are <strong>zero few-shot examples</strong> anywhere in the codebase.
The browser prompt includes JSON format specifications but not
complete task-solution demonstrations.</p>
</div>
</section>
</section>
<section id="architectural-analysis-and-limitations">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">Architectural Analysis and Limitations</a><a class="headerlink" href="#architectural-analysis-and-limitations" title="Link to this heading">¶</a></h2>
<section id="what-openmanus-does-well">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">What OpenManus Does Well</a><a class="headerlink" href="#what-openmanus-does-well" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><strong>Simplicity</strong>: The stateless design is easy to understand, debug,
and deploy. There are no complex persistence layers to manage.</p></li>
<li><p><strong>LLM-Centric Intelligence</strong>: By delegating all reasoning to the
LLM, the system benefits from the LLM’s general capabilities
without needing domain-specific knowledge engineering.</p></li>
<li><p><strong>Tool Extensibility</strong>: Adding new tools is straightforward –
subclass <code class="docutils literal notranslate"><span class="pre">BaseTool</span></code>, implement <code class="docutils literal notranslate"><span class="pre">execute()</span></code>, and register with
an agent’s <code class="docutils literal notranslate"><span class="pre">ToolCollection</span></code>.</p></li>
<li><p><strong>MCP Interoperability</strong>: The MCP integration enables dynamic tool
discovery from external servers, providing runtime extensibility.</p></li>
</ol>
</section>
<section id="what-openmanus-lacks">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">What OpenManus Lacks</a><a class="headerlink" href="#what-openmanus-lacks" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><strong>No Learning</strong>: The system cannot improve from experience. Every
session starts from scratch with the same prompts and tools.</p></li>
<li><p><strong>No Persistent Memory</strong>: There is no way to remember information
across sessions. Users must re-provide context each time.</p></li>
<li><p><strong>No Knowledge Base</strong>: There is no structured repository of facts,
procedures, or domain knowledge that agents can query.</p></li>
<li><p><strong>No Skill Library</strong>: There is no mechanism to define, store, and
reuse complex multi-tool procedures as named skills.</p></li>
<li><p><strong>No Semantic Retrieval</strong>: Without embeddings or vector search,
agents cannot efficiently search through large knowledge corpora.</p></li>
<li><p><strong>No Inter-Agent Memory Sharing</strong>: In multi-agent flows, agents
communicate only through the planning tool’s step notes.</p></li>
</ol>
</section>
<section id="recommendations-for-enhancement">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Recommendations for Enhancement</a><a class="headerlink" href="#recommendations-for-enhancement" title="Link to this heading">¶</a></h3>
<p>For users who want to extend OpenManus with knowledge and skill
capabilities, the following enhancements would be impactful:</p>
<ol class="arabic">
<li><p><strong>Persistent Memory</strong></p>
<p>Add a vector database (e.g., ChromaDB, FAISS) for storing and
retrieving past interactions, learned facts, and task outcomes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">PersistentMemory</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">db</span> <span class="o">=</span> <span class="n">chromadb</span><span class="o">.</span><span class="n">PersistentClient</span><span class="p">(</span><span class="n">db_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_or_create_collection</span><span class="p">(</span><span class="s2">&quot;memory&quot;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">embedding</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">embed</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">embeddings</span><span class="o">=</span><span class="p">[</span><span class="n">embedding</span><span class="p">],</span> <span class="o">...</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">retrieve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query_texts</span><span class="o">=</span><span class="p">[</span><span class="n">query</span><span class="p">],</span> <span class="n">n_results</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">results</span>
</pre></div>
</div>
</li>
<li><p><strong>RAG Pipeline</strong></p>
<p>Augment the <code class="docutils literal notranslate"><span class="pre">think()</span></code> method to retrieve relevant context before
each LLM call:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">think</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Retrieve relevant knowledge</span>
    <span class="n">context</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">knowledge_base</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">messages</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span>
    <span class="p">)</span>
    <span class="c1"># Inject into system prompt</span>
    <span class="n">augmented_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">system_prompt</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Relevant context:</span><span class="se">\n</span><span class="si">{</span><span class="n">context</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="c1"># Call LLM with augmented context</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">ask_tool</span><span class="p">(</span><span class="n">messages</span><span class="p">,</span> <span class="n">augmented_prompt</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><strong>Skill Library</strong></p>
<p>Define reusable multi-step procedures in YAML/JSON:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">skills</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;web_research&quot;</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web_search</span>
<span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{topic}&quot;</span><span class="p p-Indicator">}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">browser_use</span>
<span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="nv">extract_content</span><span class="p p-Indicator">,</span><span class="nt"> goal</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{goal}&quot;</span><span class="p p-Indicator">}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">str_replace_editor</span>
<span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="nv">create</span><span class="p p-Indicator">,</span><span class="nt"> path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;research.md&quot;</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><p><strong>Cross-Session Memory</strong></p>
<p>Serialize <code class="docutils literal notranslate"><span class="pre">Memory</span></code> objects for session continuity:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">SessionManager</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">save_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">memory</span><span class="p">:</span> <span class="n">Memory</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">memory</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">()</span>
        <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;sessions/</span><span class="si">{</span><span class="n">session_id</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Memory</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;sessions/</span><span class="si">{</span><span class="n">session_id</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Memory</span><span class="o">.</span><span class="n">model_validate_json</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">OpenManus</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent_system.html">Agent System</a></li>
<li class="toctree-l1"><a class="reference internal" href="orchestration_flow.html">Orchestration Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="tool_system.html">Tool System</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Knowledge and Skills System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#executive-summary">Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#knowledge-management">Knowledge Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#skill-system">Skill System</a></li>
<li class="toctree-l2"><a class="reference internal" href="#memory-system-deep-dive">Memory System Deep Dive</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prompt-templates-as-baked-in-knowledge">Prompt Templates as Baked-In Knowledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="#architectural-analysis-and-limitations">Architectural Analysis and Limitations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="llm_integration.html">LLM Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcp_integration.html">MCP Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="sandbox_system.html">Sandbox System</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tool_system.html" title="previous chapter">Tool System</a></li>
      <li>Next: <a href="llm_integration.html" title="next chapter">LLM Integration</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, FoundationAgents.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/knowledge_and_skills.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>