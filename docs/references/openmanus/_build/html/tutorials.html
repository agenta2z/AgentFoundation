<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorials &#8212; OpenManus 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="API Reference" href="api_reference.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="tutorials">
<h1>Tutorials<a class="headerlink" href="#tutorials" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#tutorial-1-your-first-agent-run" id="id1">Tutorial 1: Your First Agent Run</a></p>
<ul>
<li><p><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#steps" id="id3">Steps</a></p></li>
<li><p><a class="reference internal" href="#understanding-the-output" id="id4">Understanding the Output</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorial-2-creating-a-custom-tool" id="id5">Tutorial 2: Creating a Custom Tool</a></p>
<ul>
<li><p><a class="reference internal" href="#step-1-define-the-tool" id="id6">Step 1: Define the Tool</a></p></li>
<li><p><a class="reference internal" href="#step-2-register-with-an-agent" id="id7">Step 2: Register with an Agent</a></p></li>
<li><p><a class="reference internal" href="#step-3-use-the-agent" id="id8">Step 3: Use the Agent</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorial-3-multi-agent-planning-flow" id="id9">Tutorial 3: Multi-Agent Planning Flow</a></p>
<ul>
<li><p><a class="reference internal" href="#step-1-configure-agents" id="id10">Step 1: Configure Agents</a></p></li>
<li><p><a class="reference internal" href="#step-2-run-the-planning-flow" id="id11">Step 2: Run the Planning Flow</a></p></li>
<li><p><a class="reference internal" href="#step-3-enter-a-complex-task" id="id12">Step 3: Enter a Complex Task</a></p></li>
<li><p><a class="reference internal" href="#step-4-observe-the-plan" id="id13">Step 4: Observe the Plan</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorial-4-connecting-to-mcp-servers" id="id14">Tutorial 4: Connecting to MCP Servers</a></p>
<ul>
<li><p><a class="reference internal" href="#step-1-set-up-an-mcp-server" id="id15">Step 1: Set Up an MCP Server</a></p></li>
<li><p><a class="reference internal" href="#step-2-configure-the-connection" id="id16">Step 2: Configure the Connection</a></p></li>
<li><p><a class="reference internal" href="#step-3-run-the-mcp-agent" id="id17">Step 3: Run the MCP Agent</a></p></li>
<li><p><a class="reference internal" href="#step-4-use-the-tools" id="id18">Step 4: Use the Tools</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorial-5-exposing-openmanus-as-an-mcp-server" id="id19">Tutorial 5: Exposing OpenManus as an MCP Server</a></p>
<ul>
<li><p><a class="reference internal" href="#step-1-start-the-server" id="id20">Step 1: Start the Server</a></p></li>
<li><p><a class="reference internal" href="#step-2-connect-from-another-application" id="id21">Step 2: Connect from Another Application</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorial-6-building-a-custom-flow" id="id22">Tutorial 6: Building a Custom Flow</a></p>
<ul>
<li><p><a class="reference internal" href="#step-1-define-custom-agents" id="id23">Step 1: Define Custom Agents</a></p></li>
<li><p><a class="reference internal" href="#step-2-create-the-flow" id="id24">Step 2: Create the Flow</a></p></li>
<li><p><a class="reference internal" href="#step-3-execute" id="id25">Step 3: Execute</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorial-7-using-the-sandbox" id="id26">Tutorial 7: Using the Sandbox</a></p>
<ul>
<li><p><a class="reference internal" href="#step-1-enable-sandbox-mode" id="id27">Step 1: Enable Sandbox Mode</a></p></li>
<li><p><a class="reference internal" href="#step-2-run-normally" id="id28">Step 2: Run Normally</a></p></li>
<li><p><a class="reference internal" href="#step-3-verify-isolation" id="id29">Step 3: Verify Isolation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorial-8-understanding-the-think-act-loop" id="id30">Tutorial 8: Understanding the Think-Act Loop</a></p></li>
</ul>
</nav>
<p>This document provides step-by-step tutorials for common tasks with
OpenManus, from basic usage to advanced customization.</p>
<section id="tutorial-1-your-first-agent-run">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Tutorial 1: Your First Agent Run</a><a class="headerlink" href="#tutorial-1-your-first-agent-run" title="Link to this heading">¶</a></h2>
<p>This tutorial walks through running OpenManus for the first time.</p>
<section id="prerequisites">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>OpenManus installed (see <a class="reference internal" href="getting_started.html"><span class="doc">Getting Started</span></a>)</p></li>
<li><p>API key configured in <code class="docutils literal notranslate"><span class="pre">config/config.toml</span></code></p></li>
</ul>
</section>
<section id="steps">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Steps</a><a class="headerlink" href="#steps" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p><strong>Start the agent</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>main.py
</pre></div>
</div>
</li>
<li><p><strong>Enter a prompt</strong> when asked:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Enter your prompt: What is the current weather in San Francisco?
</pre></div>
</div>
</li>
<li><p><strong>Observe the execution</strong>:</p>
<p>The agent will:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">think()</span></code>: Decide to use <code class="docutils literal notranslate"><span class="pre">web_search</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">act()</span></code>: Execute the search, get results</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">think()</span></code>: Decide to present findings</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">act()</span></code>: Call <code class="docutils literal notranslate"><span class="pre">terminate</span></code> with the answer</p></li>
</ul>
</li>
<li><p><strong>Check the output</strong> in the terminal.</p></li>
</ol>
</section>
<section id="understanding-the-output">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Understanding the Output</a><a class="headerlink" href="#understanding-the-output" title="Link to this heading">¶</a></h3>
<p>The agent logs show the think-act cycle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[Step 1] Thinking...
→ LLM decided to call: web_search(&quot;current weather San Francisco&quot;)

[Step 1] Acting...
→ web_search result: &quot;Currently 62°F, partly cloudy...&quot;

[Step 2] Thinking...
→ LLM decided to call: terminate(status=&quot;success&quot;)

[Step 2] Acting...
→ Task completed.
</pre></div>
</div>
</section>
</section>
<section id="tutorial-2-creating-a-custom-tool">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Tutorial 2: Creating a Custom Tool</a><a class="headerlink" href="#tutorial-2-creating-a-custom-tool" title="Link to this heading">¶</a></h2>
<p>This tutorial shows how to create and register a custom tool.</p>
<section id="step-1-define-the-tool">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Step 1: Define the Tool</a><a class="headerlink" href="#step-1-define-the-tool" title="Link to this heading">¶</a></h3>
<p>Create <code class="docutils literal notranslate"><span class="pre">app/tool/my_calculator.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseTool</span><span class="p">,</span> <span class="n">ToolResult</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Calculator</span><span class="p">(</span><span class="n">BaseTool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple calculator tool.&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;calculator&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Evaluates mathematical expressions. &quot;</span>
        <span class="s2">&quot;Use for arithmetic calculations.&quot;</span>
    <span class="p">)</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
        <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;expression&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Mathematical expression to evaluate, &quot;</span>
                    <span class="s2">&quot;e.g., &#39;2 + 3 * 4&#39;&quot;</span>
                <span class="p">),</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;expression&quot;</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ToolResult</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Safe evaluation (numbers and operators only)</span>
            <span class="n">allowed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;0123456789+-*/.() &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="n">allowed</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">expression</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fail_response</span><span class="p">(</span>
                    <span class="s2">&quot;Expression contains invalid characters&quot;</span>
                <span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>  <span class="c1"># noqa: S307</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">success_response</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fail_response</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Calculation error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="step-2-register-with-an-agent">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Step 2: Register with an Agent</a><a class="headerlink" href="#step-2-register-with-an-agent" title="Link to this heading">¶</a></h3>
<p>Create a custom agent or modify an existing one:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_agent.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.agent.manus</span><span class="w"> </span><span class="kn">import</span> <span class="n">Manus</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.my_calculator</span><span class="w"> </span><span class="kn">import</span> <span class="n">Calculator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.tool_collection</span><span class="w"> </span><span class="kn">import</span> <span class="n">ToolCollection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.terminate</span><span class="w"> </span><span class="kn">import</span> <span class="n">Terminate</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyAgent</span><span class="p">(</span><span class="n">Manus</span><span class="p">):</span>
    <span class="n">available_tools</span><span class="p">:</span> <span class="n">ToolCollection</span> <span class="o">=</span> <span class="n">ToolCollection</span><span class="p">(</span>
        <span class="n">Calculator</span><span class="p">(),</span>
        <span class="n">Terminate</span><span class="p">(),</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="step-3-use-the-agent">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Step 3: Use the Agent</a><a class="headerlink" href="#step-3-use-the-agent" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">my_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyAgent</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">agent</span> <span class="o">=</span> <span class="n">MyAgent</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;What is 15 * 7 + 23?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</section>
</section>
<section id="tutorial-3-multi-agent-planning-flow">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Tutorial 3: Multi-Agent Planning Flow</a><a class="headerlink" href="#tutorial-3-multi-agent-planning-flow" title="Link to this heading">¶</a></h2>
<p>This tutorial demonstrates the planning flow with multiple agents.</p>
<section id="step-1-configure-agents">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Step 1: Configure Agents</a><a class="headerlink" href="#step-1-configure-agents" title="Link to this heading">¶</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">config/config.toml</span></code>:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[runflow]</span>
<span class="n">use_data_analysis_agent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
</section>
<section id="step-2-run-the-planning-flow">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Step 2: Run the Planning Flow</a><a class="headerlink" href="#step-2-run-the-planning-flow" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>run_flow.py
</pre></div>
</div>
</section>
<section id="step-3-enter-a-complex-task">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Step 3: Enter a Complex Task</a><a class="headerlink" href="#step-3-enter-a-complex-task" title="Link to this heading">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Enter your prompt: Research the top 5 programming languages by
popularity in 2025, create a comparison table, and generate a
bar chart visualization.
</pre></div>
</div>
</section>
<section id="step-4-observe-the-plan">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Step 4: Observe the Plan</a><a class="headerlink" href="#step-4-observe-the-plan" title="Link to this heading">¶</a></h3>
<p>The system will:</p>
<ol class="arabic simple">
<li><p><strong>Create a plan</strong> with steps like:
- Step 1: Search for programming language rankings
- Step 2: Extract and organize data
- Step 3: Create comparison table
- Step 4: Generate visualization
- Step 5: Compile final report</p></li>
<li><p><strong>Execute each step</strong> with the appropriate agent:
- Steps 1-3: <code class="docutils literal notranslate"><span class="pre">Manus</span></code> agent (web search, data processing)
- Step 4: <code class="docutils literal notranslate"><span class="pre">DataAnalysis</span></code> agent (chart generation)
- Step 5: <code class="docutils literal notranslate"><span class="pre">Manus</span></code> agent (report compilation)</p></li>
</ol>
</section>
</section>
<section id="tutorial-4-connecting-to-mcp-servers">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Tutorial 4: Connecting to MCP Servers</a><a class="headerlink" href="#tutorial-4-connecting-to-mcp-servers" title="Link to this heading">¶</a></h2>
<p>This tutorial shows how to use external tools via MCP.</p>
<section id="step-1-set-up-an-mcp-server">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Step 1: Set Up an MCP Server</a><a class="headerlink" href="#step-1-set-up-an-mcp-server" title="Link to this heading">¶</a></h3>
<p>Using the official MCP filesystem server:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>@modelcontextprotocol/server-filesystem
</pre></div>
</div>
</section>
<section id="step-2-configure-the-connection">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Step 2: Configure the Connection</a><a class="headerlink" href="#step-2-configure-the-connection" title="Link to this heading">¶</a></h3>
<p>Create <code class="docutils literal notranslate"><span class="pre">config/mcp.json</span></code>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;mcpServers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;filesystem&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npx&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;-y&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;@modelcontextprotocol/server-filesystem&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;/path/to/allowed/directory&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stdio&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="step-3-run-the-mcp-agent">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Step 3: Run the MCP Agent</a><a class="headerlink" href="#step-3-run-the-mcp-agent" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>run_mcp.py<span class="w"> </span>--connection<span class="w"> </span>stdio<span class="w"> </span>--interactive
</pre></div>
</div>
<p>The agent will discover all tools from the filesystem MCP server and
make them available for use.</p>
</section>
<section id="step-4-use-the-tools">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Step 4: Use the Tools</a><a class="headerlink" href="#step-4-use-the-tools" title="Link to this heading">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Enter your prompt: List all Python files in the project and
show me the contents of the main entry point.
</pre></div>
</div>
<p>The agent will use the MCP filesystem tools to browse and read files.</p>
</section>
</section>
<section id="tutorial-5-exposing-openmanus-as-an-mcp-server">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Tutorial 5: Exposing OpenManus as an MCP Server</a><a class="headerlink" href="#tutorial-5-exposing-openmanus-as-an-mcp-server" title="Link to this heading">¶</a></h2>
<p>This tutorial makes OpenManus tools available to other applications.</p>
<section id="step-1-start-the-server">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Step 1: Start the Server</a><a class="headerlink" href="#step-1-start-the-server" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>run_mcp_server.py
</pre></div>
</div>
<p>This exposes Bash, BrowserUseTool, StrReplaceEditor, and Terminate
as MCP tools via stdio transport.</p>
</section>
<section id="step-2-connect-from-another-application">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Step 2: Connect from Another Application</a><a class="headerlink" href="#step-2-connect-from-another-application" title="Link to this heading">¶</a></h3>
<p>In Claude Desktop’s MCP configuration (<code class="docutils literal notranslate"><span class="pre">claude_desktop_config.json</span></code>):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;mcpServers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;openmanus&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/path/to/OpenManus/run_mcp_server.py&quot;</span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now Claude Desktop can use OpenManus tools for bash commands, browser
automation, and file editing.</p>
</section>
</section>
<section id="tutorial-6-building-a-custom-flow">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">Tutorial 6: Building a Custom Flow</a><a class="headerlink" href="#tutorial-6-building-a-custom-flow" title="Link to this heading">¶</a></h2>
<p>This tutorial shows how to create a custom multi-agent orchestration.</p>
<section id="step-1-define-custom-agents">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Step 1: Define Custom Agents</a><a class="headerlink" href="#step-1-define-custom-agents" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">app.agent.toolcall</span><span class="w"> </span><span class="kn">import</span> <span class="n">ToolCallAgent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.tool_collection</span><span class="w"> </span><span class="kn">import</span> <span class="n">ToolCollection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.web_search</span><span class="w"> </span><span class="kn">import</span> <span class="n">WebSearch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.python_execute</span><span class="w"> </span><span class="kn">import</span> <span class="n">PythonExecute</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app.tool.terminate</span><span class="w"> </span><span class="kn">import</span> <span class="n">Terminate</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ResearchAgent</span><span class="p">(</span><span class="n">ToolCallAgent</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;researcher&quot;</span>
    <span class="n">system_prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;You are a research specialist. &quot;</span>
        <span class="s2">&quot;Search for information and summarize findings.&quot;</span>
    <span class="p">)</span>
    <span class="n">available_tools</span><span class="p">:</span> <span class="n">ToolCollection</span> <span class="o">=</span> <span class="n">ToolCollection</span><span class="p">(</span>
        <span class="n">WebSearch</span><span class="p">(),</span>
        <span class="n">Terminate</span><span class="p">(),</span>
    <span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CoderAgent</span><span class="p">(</span><span class="n">ToolCallAgent</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;coder&quot;</span>
    <span class="n">system_prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;You are a coding specialist. &quot;</span>
        <span class="s2">&quot;Write clean, efficient Python code.&quot;</span>
    <span class="p">)</span>
    <span class="n">available_tools</span><span class="p">:</span> <span class="n">ToolCollection</span> <span class="o">=</span> <span class="n">ToolCollection</span><span class="p">(</span>
        <span class="n">PythonExecute</span><span class="p">(),</span>
        <span class="n">Terminate</span><span class="p">(),</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="step-2-create-the-flow">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Step 2: Create the Flow</a><a class="headerlink" href="#step-2-create-the-flow" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">app.flow.flow_factory</span><span class="w"> </span><span class="kn">import</span> <span class="n">FlowFactory</span><span class="p">,</span> <span class="n">FlowType</span>

<span class="n">agents</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;researcher&quot;</span><span class="p">:</span> <span class="n">ResearchAgent</span><span class="p">,</span>
    <span class="s2">&quot;coder&quot;</span><span class="p">:</span> <span class="n">CoderAgent</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">flow</span> <span class="o">=</span> <span class="n">FlowFactory</span><span class="o">.</span><span class="n">create_flow</span><span class="p">(</span>
    <span class="n">flow_type</span><span class="o">=</span><span class="n">FlowType</span><span class="o">.</span><span class="n">PLANNING</span><span class="p">,</span>
    <span class="n">agents</span><span class="o">=</span><span class="n">agents</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="step-3-execute">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">Step 3: Execute</a><a class="headerlink" href="#step-3-execute" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">flow</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
        <span class="s2">&quot;Research the best sorting algorithms, then implement &quot;</span>
        <span class="s2">&quot;the top 3 in Python with benchmarks.&quot;</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</section>
</section>
<section id="tutorial-7-using-the-sandbox">
<h2><a class="toc-backref" href="#id26" role="doc-backlink">Tutorial 7: Using the Sandbox</a><a class="headerlink" href="#tutorial-7-using-the-sandbox" title="Link to this heading">¶</a></h2>
<p>This tutorial shows how to run code in an isolated Docker sandbox.</p>
<section id="step-1-enable-sandbox-mode">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Step 1: Enable Sandbox Mode</a><a class="headerlink" href="#step-1-enable-sandbox-mode" title="Link to this heading">¶</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">config/config.toml</span></code>:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[sandbox]</span>
<span class="n">use_sandbox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;python:3.12-slim&quot;</span>
<span class="n">work_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/workspace&quot;</span>
<span class="n">memory_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;512m&quot;</span>
<span class="n">network_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</pre></div>
</div>
</section>
<section id="step-2-run-normally">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Step 2: Run Normally</a><a class="headerlink" href="#step-2-run-normally" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>main.py
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">StrReplaceEditor</span></code> will automatically use the Docker sandbox
for file operations instead of the local filesystem.</p>
</section>
<section id="step-3-verify-isolation">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">Step 3: Verify Isolation</a><a class="headerlink" href="#step-3-verify-isolation" title="Link to this heading">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Enter your prompt: Create a Python script that writes to
/workspace/test.py and execute it.
</pre></div>
</div>
<p>Files will be created inside the Docker container, not on your
host filesystem.</p>
</section>
</section>
<section id="tutorial-8-understanding-the-think-act-loop">
<h2><a class="toc-backref" href="#id30" role="doc-backlink">Tutorial 8: Understanding the Think-Act Loop</a><a class="headerlink" href="#tutorial-8-understanding-the-think-act-loop" title="Link to this heading">¶</a></h2>
<p>This tutorial explains the core execution pattern by tracing through
a real example.</p>
<p>Given the prompt: “Create a file called hello.py with a hello world program”</p>
<p><strong>Step 1 - Think</strong>:</p>
<p>The agent sends to the LLM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">System</span><span class="p">:</span> <span class="n">You</span> <span class="n">are</span> <span class="n">OpenManus</span><span class="p">,</span> <span class="n">an</span> <span class="nb">all</span><span class="o">-</span><span class="n">capable</span> <span class="n">AI</span> <span class="n">assistant</span><span class="o">...</span>
<span class="n">User</span><span class="p">:</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">file</span> <span class="n">called</span> <span class="n">hello</span><span class="o">.</span><span class="n">py</span> <span class="k">with</span> <span class="n">a</span> <span class="n">hello</span> <span class="n">world</span> <span class="n">program</span>
<span class="n">User</span><span class="p">:</span> <span class="n">Based</span> <span class="n">on</span> <span class="n">user</span> <span class="n">needs</span><span class="p">,</span> <span class="n">proactively</span> <span class="n">select</span> <span class="n">the</span> <span class="n">most</span> <span class="n">appropriate</span>
      <span class="n">tool</span><span class="o">...</span> <span class="n">Current</span> <span class="n">working</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">workspace</span>
</pre></div>
</div>
<p>The LLM responds with a tool call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tool_calls</span><span class="p">:</span> <span class="p">[{</span>
    <span class="n">function</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;str_replace_editor&quot;</span><span class="p">,</span>
        <span class="n">arguments</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;create&quot;</span><span class="p">,</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;workspace/hello.py&quot;</span><span class="p">,</span>
            <span class="s2">&quot;file_text&quot;</span><span class="p">:</span> <span class="s2">&quot;print(&#39;Hello, World!&#39;)</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}]</span>
</pre></div>
</div>
<p><strong>Step 1 - Act</strong>:</p>
<p>The agent executes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>StrReplaceEditor.execute(
    command=&quot;create&quot;,
    path=&quot;workspace/hello.py&quot;,
    file_text=&quot;print(&#39;Hello, World!&#39;)\n&quot;
)
→ ToolResult(output=&quot;File created successfully at workspace/hello.py&quot;)
</pre></div>
</div>
<p><strong>Step 2 - Think</strong>:</p>
<p>The agent sends the updated conversation (including the tool result)
back to the LLM. The LLM decides the task is complete:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tool_calls</span><span class="p">:</span> <span class="p">[{</span>
    <span class="n">function</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;terminate&quot;</span><span class="p">,</span>
        <span class="n">arguments</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}]</span>
</pre></div>
</div>
<p><strong>Step 2 - Act</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Terminate.execute(status=&quot;success&quot;)
→ Agent state transitions to FINISHED
→ Loop exits
</pre></div>
</div>
<p>Result: <code class="docutils literal notranslate"><span class="pre">workspace/hello.py</span></code> contains <code class="docutils literal notranslate"><span class="pre">print('Hello,</span> <span class="pre">World!')</span></code></p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">OpenManus</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent_system.html">Agent System</a></li>
<li class="toctree-l1"><a class="reference internal" href="orchestration_flow.html">Orchestration Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="tool_system.html">Tool System</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledge_and_skills.html">Knowledge and Skills System</a></li>
<li class="toctree-l1"><a class="reference internal" href="llm_integration.html">LLM Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcp_integration.html">MCP Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="sandbox_system.html">Sandbox System</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-1-your-first-agent-run">Tutorial 1: Your First Agent Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-2-creating-a-custom-tool">Tutorial 2: Creating a Custom Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-3-multi-agent-planning-flow">Tutorial 3: Multi-Agent Planning Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-4-connecting-to-mcp-servers">Tutorial 4: Connecting to MCP Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-5-exposing-openmanus-as-an-mcp-server">Tutorial 5: Exposing OpenManus as an MCP Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-6-building-a-custom-flow">Tutorial 6: Building a Custom Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-7-using-the-sandbox">Tutorial 7: Using the Sandbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial-8-understanding-the-think-act-loop">Tutorial 8: Understanding the Think-Act Loop</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="api_reference.html" title="previous chapter">API Reference</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, FoundationAgents.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/tutorials.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>